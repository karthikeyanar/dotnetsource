var App=new function(){var c=this;this.themesPath="css/themes/";this.isFixedLayout=this.isSidebarFixed=this.isHeaderFixed=this._IsIE10=this._IsIE9=this._IsIE8=!1;this.sidebarPosition=this.sidebarType="";this.responsiveHandlers=[];this.addResponsiveHandler=function(a){this.responsiveHandlers.push(a)};this.isIE8=function(){return c._IsIE8};this.isIE9=function(){return c._IsIE9};this.isIE10=function(){return c._IsIE10};this.getViewPort=function(){var a=window,b="inner";"innerWidth"in window||(b="client",
a=document.documentElement||document.body);return{width:a[b+"Width"],height:a[b+"Height"]}};this.isTouchDevice=function(){return"ontouchstart"in document.documentElement};this.scrollTo=function(a,b){pos=a?a.offset().top:0;$("html,body").animate({scrollTop:pos+(b?b:0)},"slow")};this.scrollTop=function(){c.scrollTo()};this.handleMetroCheck=function(a){a||(a=$("body"));$(".metro-checkbox,.metro-radio",$(a)).find(":input").each(function(){var a=$(this);1==a.closest("label").size()&&0==a.closest("label").find(".check").size()&&
a.after("<span class='check'></span>")})};this.handleBreadcrumb=function(){$(document).on("click.breadcrumb.data-api","[data-dismiss='breadcrumb']",function(){$(this).parents(".breadcrumb:first").fadeOut()})};this.handleFormValidation=function(){$.fn.validate&&$(".form-validate").validate({ignore:"input[type='text']:hidden"})};this.handleToolTip=function(a){a||(a=$("body"));$("[data-toggle='tooltip']",a).tooltip();$("[rel='tooltip']",a).tooltip()};this.handlePopover=function(a){a||(a=$("body"));$("[data-toggle='popover']",
a).popover()};this.handlePanelTools=function(){$("body").on("click.panel > .btn-group > a","[data-action='collapse']",function(a){a.preventDefault();a=$(this).closest(".panel").children(".panel-body");!1==$(this).hasClass("expand")?($(this).addClass("expand"),a.slideUp(200)):($(this).removeClass("expand"),a.slideDown(200))});$("body").on("click.panel > .btn-group > a","[data-action='refresh']",function(a){a.preventDefault();var b=$(this).closest(".panel").children(".panel-body");c.handleBlockUI({target:b});
setTimeout(function(){c.unblockUI(b)},1E3)});$("body").on("click.panel > .btn-group > a","[data-action='remove']",function(a){a.preventDefault();$(this).closest(".panel").remove()})};this.unblockUI=function(a){a?$(a).unblock({onUnblock:function(){$(a).css("position","").css("zoom","")}}):$.unblockUI()};this.handleBlockUI=function(a){a=$.extend(!0,{},a);var b=a.message?a.message:"<i class='fa fa-circle-o-notch fa-spin'></i>&nbsp;&nbsp;Loading...",c=!0==a.verticalTop?!1:!0,d=a.zindex?a.zindex:"1000",
f=a.overlayOpacity?a.overlayOpacity:"0.2",b='<div class="blockUI-message '+(a.bgColor?a.bgColor:"bg-primary")+'"><span>'+b+"</span></div>";a.target?$(a.target).block({message:b,baseZ:d,centerY:c,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:"#000",opacity:f,cursor:"wait"}}):$.blockUI({message:b,baseZ:d,centerY:c,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:"#000",opacity:f,cursor:"wait"}})};this.handleDropdownHoldClick=
function(){$("body").on("click",".dropdown-menu.hold-on-click",function(a){a.stopPropagation()})};this.handleBootstrapSelect=function(a){a||(a=$("body"));$.fn.selectpicker&&$(".selectpicker",a).selectpicker()};this.handleSwitch=function(a){a||(a=$("body"));$.fn.bootstrapSwitch&&$(".switch",a).bootstrapSwitch()};this.handleSlider=function(a){a||(a=$("body"));$.fn.slider&&$(".slider",a).slider()};this.handleSlimScroll=function(){$.fn.slimScroll&&$(".slimscroll").each(function(){var a=$(this);"1"!=a.attr("data-initialized")&&
(a.slimScroll({width:a.attr("data-width")?a.attr("data-width"):"auto",height:a.attr("data-height")?a.attr("data-height"):"250px",size:a.attr("data-size")?a.attr("data-size"):"5px",color:a.attr("data-color")?a.attr("data-color"):"#000",position:a.attr("data-position")?a.attr("data-position"):"right",distance:a.attr("data-distance")?a.attr("data-distance"):"1px",start:a.attr("data-start")?a.attr("data-start"):"top",opacity:a.attr("data-opacity")?a.attr("data-opacity"):"0.4",alwaysVisible:"true"==a.attr("data-always-visible")?
!0:!1,disableFadeOut:"true"==a.attr("data-disable-fade-out")?!0:!1,railVisible:"true"==a.attr("data-rail-visible")?!0:!1,railColor:a.attr("data-rail-color")?a.attr("data-rail-color"):"#fff",railOpacity:a.attr("data-rail-opacity")?a.attr("data-rail-opacity"):".2",railDraggable:"false"==a.attr("data-rail-draggable")?!1:!0,railClass:a.attr("data-rail-class")?a.attr("data-rail-class"):"slimScrollRail",barClass:a.attr("data-bar-class")?a.attr("data-bar-class"):"slimScrollBar",wrapperClass:a.attr("data-wrapper-class")?
a.attr("data-wrapper-class"):"slimScrollDiv",allowPageScroll:"true"==a.attr("data-allow-page-scroll")?!0:!1,wheelStep:a.attr("data-wheel-step")?a.attr("data-wheel-step"):"20",touchScrollStep:a.attr("data-touch-scroll-step")?a.attr("data-touch-scroll-step"):"200",borderRadius:a.attr("data-border-radius")?a.attr("data-border-radius"):"0",railBorderRadius:a.attr("data-rail-border-radius")?a.attr("data-rail-border-radius"):"0",animate:"false"==a.attr("data-animate")?!1:!0}),a.attr("data-initialized",
"1"))})};this.handleBackToTop=function(){var a=$('<a href="#" class="back-to-top"><i class="fa fa-angle-up"></i></a>');$("body").append(a);$(window).scroll(function(){220<$(this).scrollTop()?$(".back-to-top").fadeIn(500):$(".back-to-top").fadeOut(500)});$(".back-to-top").click(function(a){a.preventDefault();c.scrollTop();return!1})};this.resizeContentHeight=function(){var a=$("body"),b=$(".header"),c=$(".footer"),d=$(".page-container"),f=$(".page-content",d),k=$(".sidebar",d),d=this.getViewPort().height,
b=b.outerHeight(!0),c=c.outerHeight(!0),k=k.outerHeight(!0),g=0;a.hasClass("sidebar-fixed")?g=d-b-c:(g=992>this.getViewPort().width?d-b-c:k+20,1024<this.getViewPort().width&&g+b+c<d&&(g=d-b-c));f.css({"min-height":g+"px"})};this.responsive=function(){for(var a in c.responsiveHandlers)c.responsiveHandlers[a].call()};this.handleSidebar=function(){var a=$("body");$(".header");var b=$(".sidebar"),e=$(".sidebar-content",b),d=$(".sidebar-menu",b);$(".page-content");$(".sidebar-user",b).off("click").off("mouseenter").off("mouseleave");
if(!1==a.hasClass("sidebar-fixed"))$(".sidebar-user",b).on("click",function(){$(".info",this).toggleClass("show")}).on("mouseenter",function(){$(".info",this).addClass("show")}).on("mouseleave",function(){$(".info",this).removeClass("show")});d.find("li.open").has("ul").children("ul").addClass("collapse in");d.find("li").not(".open").has("ul").children("ul").addClass("collapse");d.children("li").off("mouseenter").off("mouseleave");d.find("li").has("ul").children("a").off("click").on("click",function(a){a.preventDefault();
var b=$(this);window.console.log("page sidebar menu expand");a=$(this).parent("li").toggleClass("open").children("ul");var d=$("body"),m=function(){if(!1==d.hasClass("sidebar-sm")&&!1==d.hasClass("sidebar-md"))if(!1==d.hasClass("sidebar-fixed"))c.scrollTo(b,-200);else{var a=b.offset().top-$(window).scrollTop();e.slimScroll({scrollTo:a})}c.resizeContentHeight()};!1==a.hasClass("in")?a.slideDown(200,function(){$(this).addClass("in").css({display:""});m()}):a.slideUp(200,function(){$(this).removeClass("in").css({display:""});
m()});$(this).parent("li").siblings().removeClass("open").children("ul.in").slideUp(200,function(){$(this).removeClass("in").css({display:""})})});b.off("mouseenter").off("mouseleave");if(a.hasClass("sidebar-fixed")&&a.hasClass("sidebar-md-fixed"))b.on("mouseenter",function(){a.hasClass("sidebar-fixed")&&a.removeClass("sidebar-md")}).on("mouseleave",function(){a.hasClass("sidebar-fixed")&&a.addClass("sidebar-md")});if(a.hasClass("sidebar-fixed")&&a.hasClass("sidebar-sm-fixed"))b.on("mouseenter",function(){a.hasClass("sidebar-fixed")&&
a.removeClass("sidebar-sm")}).on("mouseleave",function(){a.hasClass("sidebar-fixed")&&a.addClass("sidebar-sm")});d.children("li").off("mouseenter").off("mouseleave");if(!1==a.hasClass("sidebar-fixed")&&(a.hasClass("sidebar-sm")||a.hasClass("sidebar-md"))&&992<=c.getViewPort().width)d.children("li").on("mouseleave",function(a){a.preventDefault();$(this).removeClass("open").removeClass("hover").children("ul.in").removeClass("in").css({display:""})}).on("mouseenter",function(b){b=$(this).removeClass("pull-up");
var c=b.addClass("open hover").children("ul").addClass("in").css({display:""}).css("top","");c.get(0)?b.removeClass("no-submenu"):b.addClass("no-submenu");var d=$(".menu-text",c.parent()).css("top",""),e=b.offset(),l=document.documentElement.clientHeight,l=l+(document.documentElement.scrollTop||document.body.scrollTop),e=e.top,p=b.innerHeight(),q=c.innerHeight(),r=$(".header").innerHeight();$(".footer").innerHeight();var l=l-r-e,n=0,h=0;l<q?(h=q-l,h>e&&(h=e-r-5),n=-1*(h-p),h>p&&b.addClass("pull-up"),
h*=-1):(h=0,n=p);a.hasClass("sidebar-md")&&(n-=p);c.css("top",n);d.css("top",h);$(this).siblings().removeClass("open").removeClass("hover").children("ul.in").removeClass("in").css({display:""})});a.hasClass("sidebar-fixed")&&!1==a.hasClass("header-fixed")?b.on("affixed.bs.affix",function(){c.handleSidebarSlimScroll()}).on("affixed-top.bs.affix",function(){c.handleSidebarSlimScroll()}).affix({offset:{top:function(){return this.bottom=$(".header").outerHeight(!0)},bottom:0}}):($(window).off(".affix"),
b.removeData("bs.affix").removeClass("affix affix-top affix-bottom"));c.handleSidebarSlimScroll();c.resizeContentHeight()};this.handleSidebarSlimScroll=function(){var a=$("body"),b=$(".header"),c=$(".sidebar"),d=$(".sidebar-content",c);if($.fn.slimScroll){var f=$(window).height();1===d.parent(".slimScrollDiv").size()&&(d.slimScroll({destroy:!0}),d.css({height:"",overflow:"",width:""}));if(a.hasClass("sidebar-fixed")){if(a.hasClass("header-fixed")||c.hasClass("affix-top"))f-=b.outerHeight(!0);d.slimScroll({allowPageScroll:!1,
size:"5px",color:"#000",opacity:1,borderRadius:"0px",railBorderRadius:"0px",wrapperClass:"slimScrollDiv",position:"right",height:f,disableFadeOut:!0})}}};this.handleHorizontalMenu=function(){var a=$(".header"),a=$(".hor-menu",a);!0==this.isTouchDevice()&&(a.find(".dropdown-menu").click(function(a){a.stopPropagation()}),a.find(".dropdown-submenu").each(function(){var a=$(this);a.click(function(){a.toggleClass("open")})}))};this.jqValidationSetDefaults=function(){$.validator&&$.validator.setDefaults({highlight:function(a){$(a).closest(".form-group").addClass("has-error")},
unhighlight:function(a){$(a).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block",errorPlacement:function(a,b){1===b.closest(".input-group").size()?a.insertAfter(b.closest(".input-group")):1===b.closest(".input-icon").size()?a.insertAfter(b.closest(".input-icon")):1===b.closest(".select-group").size()?a.insertAfter(b.closest(".select-group")):a.insertAfter(b)}})};this.changeLayout=function(){c.applyLayoutClasses();c.handleSidebar();setTimeout(function(){c.responsive()},
500)};this.applyLayoutClasses=function(){var a=$("body"),b=$(".header"),e=$(".header-content",b),d=$(".page-container");"right"==this.sidebarPosition?a.addClass("sidebar-right"):a.removeClass("sidebar-right");a.removeClass("sidebar-sm").removeClass("sidebar-sm-fixed").removeClass("sidebar-md").removeClass("sidebar-md-fixed");"sm"==c.sidebarType?a.addClass("sidebar-sm"):"md"==c.sidebarType&&a.addClass("sidebar-md");this.isSidebarFixed?(a.addClass("sidebar-fixed"),a.hasClass("sidebar-sm")?a.addClass("sidebar-sm-fixed"):
a.hasClass("sidebar-md")&&a.addClass("sidebar-md-fixed"),992>c.getViewPort().width&&a.hasClass("sidebar-open")&&a.addClass("page-container-no-scroll")):a.removeClass("sidebar-fixed").removeClass("sidebar-sm-fixed").removeClass("sidebar-md-fixed").removeClass("page-container-no-scroll");this.isHeaderFixed?(a.addClass("header-fixed"),b.addClass("navbar-fixed-top")):(a.removeClass("header-fixed"),b.removeClass("navbar-fixed-top"));this.isFixedLayout&&1024<=this.getViewPort().width?(a.addClass("page-boxed"),
e.addClass("container").removeClass("container-fluid"),d.addClass("container").removeClass("container-fluid")):(e.removeClass("container").addClass("container-fluid"),d.removeClass("container").addClass("container-fluid"))};this.setTheme=function(a){$("#theme-link").attr("href",this.themesPath+a+".css?v=1.0")};this.themePanelSettings=function(){var a=$("body"),b=$(".theme-panel");if(b.get(0)){$(".toggler",b).click(function(){$(".theme-options",b).toggleClass("open")});var e=$("#chkheader",b),d=$("#chksidebar",
b),f=$("#chklayout",b),k=$("#selectSidebarType",b),g=$("#selectSidebarPosition",b),m="",m=a.hasClass("sidebar-sm")?"sm":a.hasClass("sidebar-md")?"md":"large";k.val(m);a.hasClass("sidebar-right")?g.val("right"):g.val("left");d.get(0).checked=App.isSidebarFixed;f.get(0).checked=App.isFixedLayout;e.get(0).checked=App.isHeaderFixed;f.click(function(){App.isFixedLayout=this.checked;App.changeLayout()});e.click(function(){App.isHeaderFixed=this.checked;App.changeLayout()});d.click(function(){App.isSidebarFixed=
this.checked;App.changeLayout()});k.change(function(){c.sidebarType=$(this).val();$("[data-sidebar-action='sidebar-toggle']").each(function(){var a=c.sidebarType;if("large"==a||""==a)a="sm";$(this).attr("data-sidebar-type",a)});c.changeLayout()});g.change(function(){c.sidebarPosition=this.value;c.changeLayout()});$(".theme-group",b).find("a").click(function(){var a=$(this);a.parent().siblings().removeClass("select");a.parent().addClass("select");c.setTheme(a.attr("data-theme-name"))})}};this.init=
function(){c._IsIE8=!!navigator.userAgent.match(/MSIE 8.0/);c._IsIE9=!!navigator.userAgent.match(/MSIE 9.0/);c._IsIE10=!!navigator.userAgent.match(/MSIE 10.0/);var a=$("body");a.hasClass("sidebar-right")?this.sidebarPosition="right":this.sidebarPosition="";var b=$(".header");a.hasClass("header-fixed")?(this.isHeaderFixed=!0,b.addClass("navbar-fixed-top")):b.removeClass("navbar-fixed-top");this.isSidebarFixed=a.hasClass("sidebar-fixed");this.isFixedLayout=a.hasClass("page-boxed");a.hasClass("sidebar-md")?
this.sidebarType="md":a.hasClass("sidebar-sm")&&(this.sidebarType="sm");c.applyLayoutClasses();c.themePanelSettings();c.handleSidebar();c.handleHorizontalMenu();$("body").addClass("sidebar-animation");$("[data-sidebar-action='sidebar-toggle']").on("click",function(){var a=$(this).attr("data-sidebar-type");""==a&&(a="sm");c.sidebarType=c.sidebarType==a?"":a;c.changeLayout()});$("[data-sidebar-action='sidebar-sm-toggle']").on("click",function(a){a.preventDefault();a.stopPropagation();a=$("body");a.toggleClass("sidebar-open");
a.hasClass("sidebar-fixed")&&a.hasClass("sidebar-open")?a.addClass("page-container-no-scroll"):a.removeClass("page-container-no-scroll")});$(".search-form-toggle").on("click",function(a){$(".search-form",".header").toggleClass("show")});c.jqValidationSetDefaults();c.handleFormValidation();c.handleToolTip();c.handlePopover();c.handlePanelTools();c.handleDropdownHoldClick();c.handleBootstrapSelect();c.handleSwitch();c.handleSlider();c.handleMetroCheck();c.handleSlimScroll();c.handleBackToTop()}};$(function(){App.init()});
$(window).resize(function(){App.handleSidebar();App.responsive()});
